## 10.0.0

_Released TBD_

**Breaking Changes:**

**<Icon name="exclamation-triangle" color="red"></Icon> Please read our
[Migration Guide](/guides/references/migration-guide) which explains the changes
in more detail and how to change your code to migrate to Cypress 10.0.**

- We introduced several breaking changes to the Cypress configuration both the
  how the configuration is provided and to the configuration options themselves.
  For the a detailed explanation of these changes, please consult our
  [Migration Guide](/guides/references/migration-guide) amd use the 10.0
  migration workflow by running `cypress open` and selecting the project you
  would like to migrate. Breaking changes include:

  - Cypress Configuration File
    - Using a `cypress.json` configuration file is no longer valid and must be
      replaced with either a `cypress.config.js`, `cypress.config.ts`,
      `cypress.config.cjs` or `cypress.config.mjs` file. This change provide
      better flexibility and extensibility of configuration. With this change,
      If both a `cypress.json` file and `cypress.config.*` file is found or if
      the CLI flag of `-C,--config-file=*.json` is passed, an error will be
      thrown. Addressed in
      [#18221](https://github.com/cypress-io/cypress/pull/18221),
      [#18300](https://github.com/cypress-io/cypress/pull/18300) and
      [#20643](https://github.com/cypress-io/cypress/pull/20643).
    - A Cypress configuration file is now required and passing the CLI flag
      `-C,--config-file=false` will result in an error, where as previously
      Cypress accepted `-C,--config-file=false` to fallback to the Cypress
      default configuration values. By default Cypress will automatically load
      the config file that matches `cypress.config.{cjs,js,mjs,ts}` if the
      `-C,--config-file` CLI flag is not passed. Addressed in
      [#20643](https://github.com/cypress-io/cypress/pull/20643).
    - A default configuration file will no longer be auto-generated by Cypress
    if a configuration file does not exist. Instead, Cypress will take you
    through a Project Setup workflow in `open` mode. This allows you to
    customize the configuration setup by testing-type (E2E or Component Testing)
    and for the language and dependencies leveraged in your project.
    <!-- - [RECOMMENDATION] In 9.4.0 we added Intelligent Code Completion via the `defineConfig()` helper function. We encourage leveraging this helper while migrating your configuration. -->

- Updates have been made to allow users to add `cy.hover()` and `cy.mount()`
  customs commands using `Cypress.Commands.add()` since we suggested adding a
  custom command since we do not provide a default implementation. Previously
  users had to use `Cypress.Command.override()` to provide the custom command.
  Addresses [#18941](https://github.com/cypress-io/cypress/issues/18941).

**Deprecations:**

**Features:**

- Added support for `cypress.config.cjs` and `cypress.config.mjs` configuration
  files. Addressed in
  [#20643](https://github.com/cypress-io/cypress/pull/20643).

- Enhanced `.within()` to provide visual indication of nested commands and logs.
  This improves the readability of logs and aligns the visual structure of logs
  with how tests are written by the user, which in turn makes dubugging easier.
  Addresses [#20433](https://github.com/cypress-io/cypress/issues/20433).

**Bugfixes:**

- Improvements have been made to the error message in the scenario when a user
  would attempting to add a new command using `Cypress.Commands.add()` that has
  the same name as an internal function reserved by Cypress. The improved error
  message explains why the command name must be changed where previously a Type
  Error was thrown without relevant information. Addresses
  [#6146](https://github.com/cypress-io/cypress/issues/6146).

**Dependencies:**

h2. Raw Notes

## CLI:

- new `CYPRESS_INTERNAL_DEV_DEBUG` env var that will be added to the exec argv
  list when forking CYPRESS_INTERNAL_DEV_WATCH Cypres process
  https://github.com/cypress-io/cypress/pull/17875/files#diff-97683c9a2857a02cef5d6db17bfc7c2bb6957e10b38b1f62dfc387c6031ea2f0R160
- new `CYPRESS_INTERNAL_E2E_TESTING_SELF` env var to skip enabling xvfb for
  running Cypress in Cypress and for referencing the e2e folder for
  ELECTRON_APP_DATA_PATH
  https://github.com/cypress-io/cypress/pull/18135/files#diff-4ef3e9b6930c8bb892f52cb3788bb1afe675967ffed01064d238b93fd9bb0fa9R63
- CYPRESS_INTERNAL_GRAPHQL_PORT
- CYPRESS_INTERNAL_VITE_DEV
- CYPRESS_INTERNAL_VITE_APP_PORT
- CYPRESS_INTERNAL_VITE_LAUNCHPAD_PORT
<!-- - Added `defineConfig()` helper function to provides automatic code completion
  for configuration in many popular code editors. While it's not strictly
  necessary for Cypress to parse your configuration, we recommend wrapping
  your config object with `defineConfig()`.
  https://github.com/cypress-io/cypress/pull/18302 -->
- Add `devServer` and `devServerConifg` config option

  - `ComponentConfigOptions` typescript type:
    https://github.com/cypress-io/cypress/pull/18797

- ?? IS `--global` flag even required anymore ?
- add new `--e2e` CLI flag to `run` adn `open` cmd to run e2e tests on a
  project:
  - require to run e2d tests with `cypress open` or `cypress run` cmds
- add new `--component` CLI flag to `run` adn `open` cmd to run component tests
  on a project:
  - required to run component tests with `cypress open` and `cypress run`
    commands. The `cypress open-ct` and `cypress run-ct` are now deprecated in
    favor of the `--component` flag usage.
    https://github.com/cypress-io/cypress/issues/18418
- add `--inspec` and `--inspec-brk` CLI flag options when `--dev` flag is used:
  https://github.com/cypress-io/cypress/pull/19347/

- Add `DevServerFn` typescript type:
  https://github.com/cypress-io/cypress/pull/19347/

- deprecate `testFiles`, `integrationFolder`, `component`, `specPater`
- ~added `AwaitedLike` typescript type:
  https://github.com/cypress-io/cypress/pull/19957~ Removed
  https://github.com/cypress-io/cypress/pull/20047
- added `RuntimeServerConfigOptions` typescript interface type:
  https://github.com/cypress-io/cypress/pull/20367
- change `RuntimeConfigOptions` typescript interface type:
  https://github.com/cypress-io/cypress/pull/20367

## cypress-react:

- npm/react/plugins/babel: renamed typescript namespace, func and export from
  legacyDevServer to CypressBabelDevServer:
  https://github.com/cypress-io/cypress/pull/19957
- npm/react/plugins/craco: renamed typescript namespace, func and export from
  legacyDevServer to CypressCracoDevServer:
  https://github.com/cypress-io/cypress/pull/19957
- npm/react/plugins/load-webpack: renamed typescript namespace, func and export
  from legacyDevServer to CypressWebpackDevServer:
  https://github.com/cypress-io/cypress/pull/19957
- npm/react/plugins/next: renamed typescript namespace, func and export from
  legacyDevServer to CypressNextDevServer:
  https://github.com/cypress-io/cypress/pull/19957
- npm/react/plugins/react-scripts: renamed typescript namespace, func and export
  from legacyDevServer to CypressCRADevServer:
  https://github.com/cypress-io/cypress/pull/19957

## Launchpad:

- Browser Error alert/message + browsers options display when browser-specified
  via `--browser` CLI option does not exist on the system.
  https://github.com/cypress-io/cypress/pull/18473

- Terminology

  - The Cypress App has been renamed from "Test Runner" to "Cypress App". When
    talking about test runners, we can say that the Cypress App is a test
    runner, but we should not refer to it as the test runner.

- The “Run all specs” and “Run filtered specs” functionality have been removed.

- The experimental “Cypress Studio” functionality has been removed and will be
  rethought/revisited in a later release. A warning will be displayed in both
  `open` and `run` mode to warn the user uses this flag is set to inform them
  that this has been removed so that they don't think it's a working feature
  that is broken. https://github.com/cypress-io/cypress/pull/20515

  - [Slack message](https://cypressio.slack.com/archives/C02560911D0/p1644506063676029?thread_ts=1644505161.655489&cid=C02560911D0)
  - See
    [the `experimentalStudio` option](https://www.notion.so/Changes-for-10-0-0-1dca213837b84d6ea297c2d12c615f3a)

## Cypress Configuration

- We introduced several breaking changes to the Cypress configuration both the
  how the configuration is provided and to the configuration options themselves.
  For the a detailed explanation of these changes, please consult the migration
  guide and/or use the 10.0 migration workflow by running `cypress open` and
  selecting the project you would like to migrate. Breaking changes include:

  - The `cypress.json` configuration file is no longer valid and must be
    replaced with either a `cypress.config.js`, `cypress.config.ts`,
    `cypress.config.cjs` or `cypress.config.mjs` file. If both a `cypress.json`
    file and `cypress.config.*` file is found, or if multiple flavors of
    `cypres.config.*` are found, an error will be thrown. This change provide
    better flexibility and extensibility of configuration.
  - A Cypress configuration file is now required, where as previously Cypress
    accepted the CLI flag of `-C,--config-file=false` to fallback to the Cypress
    default configuration values. By default Cypress will automatically load the
    config file that matches `cypress.config.{cjs,js,mjs,ts}` if a the
    `-C,--config-file` CLI flag is not passed. With this change, if a
    configuration file is not found, in `run` mode, Cypress will fail and in
    `open` mode, Cypress will take you through the Project Setup workflow.

  - Running Cypress in a new, non-configured project will no longer
    automatically scaffolled the a defaul ct configuration file

  - Cypress has had several configuration options changes:

    - Changed:

      - The `baseUrl` option is no longer valid as a top-level configuration
        option; it must be defined within the `e2e` configuration object. This
        option is only applicable to E2E testing.
      - `supportFile` option has bene updated to be specific to testing-type. It
        was `cypress/support/index.js` by default. It is now set like
        `e2e.supportFile` and `component.supportFile` and the defaults are
        `cypress/support/e2e.{js,jsx,ts,tsx}` and
        `cypress/support/component.{js,jsx,ts,tsx}` respectively.
        https://github.com/cypress-io/cypress/pull/19776,
        https://github.com/cypress-io/cypress/pull/19364

    - Added:

      - The `setupNodeEvents` option is new Test Type specific configuration
        option. It must be defined within the `e2e` and/or `component`
        configuration. This option accepts a function which allows you to
        modified your loaded configuration, listen to events and register
        plugins. This option replaced the `pluginsFile` option.
        https://github.com/cypress-io/cypress/pull/18798 &
        https://github.com/cypress-io/cypress/pull/20560
      - The `specPattern` option is new Test Type specific configuration option.
        It must be defined within the `e2e` and/or `component` configuration.
        This option accepts a glob pattern String or an Array of globs pattern
        Strings to. This option replaces using the `componentFolder` and
        `integrationFolder` options in conjunction with the `testFiles` option.
        **CONFIRM DASHBOARD SPEC HISTORY IS NOT IMPACTED.**
        - The `e2e.specPattern` default value is
          `cypress/e2e/**.cy*{js,jsx,ts,tsx}` - Previously the e2e spec files
          were discovered using the `integrationFolder` and `testFile`
          configuration, which defaulted to the pattern
          `cypress/integration/*/*.*`.
          - With this change, the we are suggesting you move you spec files to
            `cypress/e2e` and namespace your spec files with `.cy`.
        - The `component.specPattern` default value is
          `**/*.cy*{js,jsx,ts,tsx}` - Previously the e2e spec files were
          discovered using the `componentFolder` and `testFile` configuration,
          which had defaulted to the pattern `cypress/component/*/*.*`.
          - With this change, the migration workflow will suggest move you spec
            files to `cypress/e2e` and namespace your spec files with `.cy` to.
      - The `excludeSpecPattern` option is new Test Type specific configuration
        option. It must be defined within the `e2e` and/or `component`
        configuration. This option accepts a glob string pattern or array of
        globs string patterns which allows you to modified your loaded
        configuration, listen to events and register plugins. This option
        replaced the `ignoreTestFiles` option. Pt1:
        https://github.com/cypress-io/cypress/pull/19319 & Pt2:
        https://github.com/cypress-io/cypress/pull/19980
        - The `e2e.excludeSpecPattern` default value is `*.hot-update.js` -
          Previously this defaulted to the pattern `cypress/integration/*/*.*`.
        - The `component.excludeSpecPattern` default value is
          `['**/__snapshots__/*','**/__image_snapshots__/*']` - Previously this
          defaulted to the pattern `cypress/integration/*/*.*`.
        - The `**/node_modules/**` pattern is automatically added to both
          `e2e.specExcludePattern` and `component.specExcludePattern`, and does
          not need to be specified (and can't be overridden). This is consistent
          with <10.0 behavior.

    - Removed:
      - The `pluginsFile` option was removed. This option was replaced with the
        new `setupNodeEvents` option. Adding the `pluginsFile` option will now
        result in an error. https://github.com/cypress-io/cypress/pull/18798 &
        https://github.com/cypress-io/cypress/pull/20560
      - The `testFiles` option was removed. This option was replaced with the
        new `specPattern` option. Adding the `testFiles` option will now result
        in an error. https://github.com/cypress-io/cypress/pull/19319 &
        https://github.com/cypress-io/cypress/pull/20565
      - The `integrationFolder` option was removed. This option was made
        redundant with by the new `specPattern` option.
        https://github.com/cypress-io/cypress/pull/19319
      - The `componentFolder` option was removed. This option was made redundant
        with by the new `specPattern` option.
        https://github.com/cypress-io/cypress/pull/19319
      - The `ignoreTestFiles` option was removed. This option was replaced with
        the new `excludeSpecPattern` option.
        https://github.com/cypress-io/cypress/pull/19319

  - The `testFiles` option has been re-name with `specPattern` to reflect that
    this option expects a regex pattern. Additionally, this is no longer a valid
    top-level configuration option. It must be defined within each testing type,
    `e2e` or `component`, to ensure the correct spec files are loaded.
    https://github.com/cypress-io/cypress/pull/19319
    - The default `e2e.specPattern` value has been updated to
      `- `e2e.specPattern`default value is`cypress/e2e/**/\*.cy.{js,jsx,ts,tsx}`**/\*.cy.{js,jsx,ts,tsx}`from`
      -

<!-- - ~R `cypress.json` has been replaced by `cypress.config.js`, `cypress.config.ts`,
  `cypress.config.cjs` or `cypress.config.mjs`:~ -->

- R`cypress.json` will no longer be auto-generated by Cypress if no config file
  exists.
- R The user will be able to choose which of the `cypress.config.js` or
  `cypress.config.ts` files is auto-generated by Cypress via a setup wizard when
  <!-- Cypress detects that no config file exists.
- ~R Having both `cypress.config.js` and `cypress.config.ts` files will result
  in an error when Cypress loads.~ -->
- R CoffeeScript config files (eg. `cypress.config.coffee`) are not supported
- R T he user will be able to use `--config-file` command line flag or the
`configFile` module API option to specify a `.js` or `.ts` file, JSON config
files are no longer supported.
<!-- - R Cypress now requires a config file, so specifying `--config-file false` on the
  command line or a `configFile` value of `false` in the module API is no longer
  valid. -->

# NPM

## design-system

## react

## code-coverage

## webpack-batteries-included-preprocessor

- dependency: bump minimum version of webpack to `^4.44.2` from `^4.41.12`
  https://github.com/cypress-io/cypress/pull/19127

## webpack-preprocessor

- dependency: bump minimum version of webpack to `^4.44.2` from `^4.41.12`
  https://github.com/cypress-io/cypress/pull/19127

# Packages

##

## desktop-gui -> named with launchpad

- chore: Replaced with `launchpad` & `app`.
  https://github.com/cypress-io/cypress/pull/19127

- "Docs" help dropdown added quick-link to Organizing Tests

## resolve dist

- chore: update path to desktop index to point to launchpad distribution:
  https://github.com/cypress-io/cypress/pull/19127

## server

- chore: https://github.com/cypress-io/cypress/pull/19127
  - remove integration folder from scaffolding:
  - remove desktop-gui references & clean up toggle between launch desktop-gui
    vs launchpad.
  - remove APIs for `getOrgs`, `getProjects`, `getProjectRuns`,
    `getProjectRecordKeys`, `requestAccess`. Replaced with GraphQL Query against
    remote GQL instance to pull the cloud project data
  - removed APIs `getReleaseNodes`

## Web-config

- Chore: upgrade sass from `1.32.11` to `1.44.0` for windows compatibility:
  https://github.com/cypress-io/cypress/pull/8785
